import { createContext, useContext, useEffect, useMemo, useState, type ReactNode } from 'react'

export type Lang = 'en' | 'tet' | 'pt'

type Dict = Record<string, unknown>
type I18nParams = { defaultValue?: string } & Record<string, string | number>

function get(obj: Dict, path: string) {
  return path.split('.').reduce<unknown>((acc, key) => (acc as Dict)?.[key], obj)
}

function interpolate(template: string, params?: Record<string, string | number>) {
  if (!params) return template
  return template.replace(/\{(\w+)\}/g, (_, k) => String(params[k] ?? ''))
}

export type I18nContextValue = {
  lang: Lang
  setLang: (l: Lang) => void
  t: (key: string, params?: I18nParams) => string
}

const I18nContext = createContext<I18nContextValue | undefined>(undefined)

// eslint-disable-next-line react-refresh/only-export-components
export function useI18n() {
  const ctx = useContext(I18nContext)
  if (!ctx) throw new Error('useI18n must be used within I18nProvider')
  return ctx
}

// Dictionaries
const en = {
  brand: {
    title: 'PESKAS | Timor-Leste',
    subtitle: 'Management Dashboard',
  },
  nav: {
    home: 'Home',
    catch: 'Catch',
    revenue: 'Revenue',
    market: 'Market',
    composition: 'Composition',
    nutrients: 'Nutrients',
    tracks: 'Fishery Indicators',
    about: 'About',
  },
  header: {
    overview: 'Small scale fisheries',
  },
  footer: {
    licence: 'License',
    source: 'Source code',
    project: 'The project',
    last_updated: 'Last update',
    copyright: 'Copyright © {year} Peskas. All rights reserved.',
  },
  user_menu: {
    name: 'Jane Pearson',
    role: 'UI Designer',
    profile: 'Profile',
    settings: 'Settings',
    logout: 'Logout',
  },
  actions: {
    toggle_navigation: 'Toggle navigation',
    toggle_theme: 'Toggle theme',
    toggle_language: 'Toggle language',
    open_user_menu: 'Open user menu',
  },
  common: {
    information: 'Information',
    national: 'National',
    loading: 'Loading...',
    loading_short: '...',
    error_loading: 'Error loading data',
    no_data: 'No data available',
    all_years: 'All years',
    all_data: 'All data',
    last_12_months: 'Last 12 months',
    last_month: 'Last month',
    vs_prev_year: 'vs prev. year',
    avg: 'Avg',
    mean: 'Mean',
    max: 'Max',
    total: 'Total',
    variable_descriptions: 'Variable Descriptions',
    data_processing: 'Data processing and validation:',
    known_problems: 'Known problems and limitations:',
    data_quality: 'DATA QUALITY:',
    no_conservation_data: 'No conservation data available',
    municipalities: {
      all: 'All municipalities',
      ainaro: 'Ainaro',
      atauro: 'Atauro',
      baucau: 'Baucau',
      bobonaro: 'Bobonaro',
      covalima: 'Covalima',
      dili: 'Dili',
      lautem: 'Lautem',
      liquica: 'Liquica',
      manatuto: 'Manatuto',
      manufahi: 'Manufahi',
      oecusse: 'Oecusse',
      viqueque: 'Viqueque',
    },
    months_short: {
      jan: 'Jan',
      feb: 'Feb',
      mar: 'Mar',
      apr: 'Apr',
      may: 'May',
      jun: 'Jun',
      jul: 'Jul',
      aug: 'Aug',
      sep: 'Sep',
      oct: 'Oct',
      nov: 'Nov',
      dec: 'Dec',
    },
  },
  home: {
    title: 'National overview',
    subtitle: 'Small scale fisheries report',
    download_report: 'Download full report',
    intro_title: 'Automated analytics system for small scale fisheries in Timor-Leste',
    intro: {
      title: 'Automated analytics system for small scale fisheries in Timor-Leste',
      content:
        'Peskas is an open-source web portal that provides data and insights on fisheries in Timor-Leste. The platform uses catch data collected by local enumerators and vessel tracking data to show fishing trends over time and space. The project was initiated in 2016 in partnership with the Timor-Leste Ministry of Agriculture and Fisheries and has been funded by various organizations. Peskas is a near-real-time monitoring system that is low-cost and open-access, with a focus on small-scale fisheries. Its application in fisheries research and management has been documented in several publications.',
    },
    recent_activity: 'Recent Activity',
    fishing_map: 'Fishing Trips Around Timor-Leste Island',
    summary_table: 'Fishery General Statistics',
    table: {
      caption: 'Explore the main fishery indicators in Timor-Leste. The table shows the aggregated values of the estimated revenue and catch, along with the median values of landings per boat, revenue per trip, catch per trip and price per kg.',
    },
    indicator: 'Indicator',
    value: 'Value',
    change: 'Change',
    trips: 'Trips',
    revenue: 'Revenue',
    catch: 'Catch',
    marker: 'Peskas Timor-Leste',
    map_title: 'Fishing Activity Heatmap',
    map_description: 'Visualizing fishing vessel density in Timor-Leste waters',
    map_info: 'This heatmap shows the fishing vessel density along the Timor-Leste coasts. The data is based on a sample of 440 vessels equipped with GPS trackers, representing a subset of the total fishery. The gear type was predicted using a machine learning model analyzing the vessels\' movement patterns.',
    map_low_density: 'Low Density',
    map_high_density: 'High Density',
    map_gear_types: 'Gear Types',
    map_time_range: 'Time Range: {start} - {end}',
    map_radius: 'Radius: {value}m',
    map_hover_hint: 'Hover over a hexagon to view detailed fishing activity information.',
    map_tooltip_location: 'Location',
    map_tooltip_total_activities: 'Total Activities',
    map_legend: 'Density',
    map_time_range_label: 'Time Range',
    map_radius_label: 'Radius',
  },
  catch: {
    subtitle: 'Small scale fisheries',
    series: 'Catch over time',
    trends: 'Catch Trends',
    habitat_treemap: 'Catch Distribution',
    trend_subtitle: 'Monthly catch volume in tons',
    table: 'Catch summary',
    summary_table: 'Summary Table',
    series_name: 'Catch',
    month: 'Month',
    catch_t: 'Catch (tons)',
    treemap_title: 'Catch rate per habitat and gear type',
    treemap_description: 'Each box represents the average hourly catch for an individual fisherman for each habitat and gear type.',
    description_heading: 'About the data',
    description_content: 'These estimates have not been thoroughly validated and might be inaccurate. There is some uncertainty on all data used in the calculations. Estimates, even from previous years, may be updated whenever new data is available. Indicators only include data from artisanal and subsistence fisheries.',
    description_subheading: 'Indicator information',
  },
  revenue: {
    series_name: 'Revenue',
    trends: 'Revenue Trends',
    million_usd: 'Revenue (M USD)',
    trend_subtitle: 'Monthly revenue in million USD',
    warning_heading: 'Estimates are provisional',
    warning_content: 'These estimates have not been validated and might be inaccurate. Use with caution.',
    warning_more: 'Learn more',
    summary_table: 'Summary Table',
    habitat_treemap: 'Revenue Distribution',
    treemap_title: 'Revenue rate per habitat and gear type',
    treemap_description: 'Each box represents the average hourly revenue for an individual fisherman for each habitat and gear type.',
    table_heading: 'Annual summary',
    description_heading: 'About the data',
    description_subheading: 'Indicator information',
    description_content: 'These estimates have not been thoroughly validated and might be inaccurate. There is some uncertainty on all data used in the calculations. Estimates, even from previous years, may be updated whenever new data is available. Indicators only include data from artisanal and subsistence fisheries.',
  },
  market: {
    title: 'Market',
    price_per_kg: 'Price per kg',
    avg_price: 'Avg price',
    series_name: 'Price',
    trend_subtitle: 'Monthly price per kilogram',
    month: 'Month',
    price_series: 'Price over time',
    price_usd: 'Price (USD/kg)',
    price_by_region: 'Price per kg by Region',
    all_data: 'All data',
    latest_month: 'Latest month',
    conservation_title: 'Catch Preservation by Region',
    conservation_description: 'Distribution of fish storage methods on boats across Timor-Leste municipalities',
    summary_table: 'Market Summary by Municipality',
    description_footer: '* All values in metric tonnes. Totals only include data after April 2018.',
  },
  composition: {
    title: 'Catch composition',
    percent_heading: 'Relative composition',
    highlight_heading: 'Total catch',
    table_heading: 'Total catch',
    table_footer: '*Pictures by FAO',
    description: 'Description',
    description_text: 'Key notes about composition and methodology.',
    pretitle: 'Small scale fisheries',
    treemap_title: 'Catch by Taxa (tons)',
    placeholder_region: 'Region composition chart placeholder',
    placeholder_taxa: 'Taxa bar highlight chart placeholder',
    stacked_subtitle: 'Regional catch distribution by taxa',
    percent: {
      heading: 'Relative composition',
    },
    highlight: {
      heading: 'Total catch',
    },
  },
  taxa: {
    CLP: 'Sardines and herrings',
    FLY: 'Flying fishes',
    TUN: 'Tunas',
    SDX: 'Mackerel scads',
    GZP: 'Garfishes',
    SNA: 'Snappers and seaperches',
    CGX: 'Jacks and trevalies',
    CJX: 'Fusiliers',
    BEN: 'Needlefishes',
    MOO: 'Moonfishes',
    RAX: 'Short bodied mackerels',
    LWX: 'Jobfishes',
    MZZ: 'Other',
  },
  nutrients: {
    title: 'Nutritional metrics',
    highlight: 'Nutrient highlight',
    rdi: 'RDI',
    people_count: 'Number of people',
    people_count_short: '{value}k',
    people_count_tooltip: '{value}k people',
    subtitle: 'Number of people meeting RDI over time (thousands)',
    treemap_average: 'Nutrients intake by average catch',
    treemap_average_description: 'Every box shows the count of people meeting the daily intake recommendation from an average catch in Timor-Leste.',
    treemap_kg: 'Habitats\' nutrient intake from 1 Kg of catch',
    treemap_kg_description: 'Every box shows the count of people meeting the daily intake recommendation from 1 Kg of catch in each habitat for each nutrient.',
    categories: {
      protein: 'Protein',
      iron: 'Iron',
      zinc: 'Zinc',
      vita: 'Vitamin A',
      omega3: 'Omega-3',
      vitd: 'Vitamin D',
      calcium: 'Calcium',
    },
  },
  tracks: {
    title: 'Fishery Indicators',
    map_title: 'Fishing Track Density',
    description: 'The dynamic map is the result of the data-crossing between boats\' GPS tracks (Pelagic Data Systems) and fishing information derived from survey landings (KoBo toolbox). The fishery indicators are aggregated on a geographic grid with a resolution of 0.1 x 0.1 degrees (approximately 11 x 11 kilometres).',
    map_caption: 'Explore fishing trips and associated statistics around the Timor Island coast with our interactive map. Select fishery indicators, fishing gear type, and fish group to filter the results. Click on a trip point to see detailed fishery statistics for that point and the associated municipality.',
    map_note: 'The map displays only the fishing trips for which we have geolocation data, these represent about 5% of the total fishing trips recorded.',
  },
  about: {
    content: 'PESKAS Timor-Leste — data and methods overview.',
    pretitle: 'Information',
    title: 'About',
    contents_title: 'Contents',
    contents: {
      about_peskas: 'About Peskas',
      methodological: 'Methodological Information',
      workflow: 'Workflow Steps',
      download: 'Download data',
    },
    sections: {
      aboutPeskas: {
        title: 'About Peskas™',
        p1: 'Peskas is a web portal displaying data and insights on the fisheries of Timor-Leste. It is the official fisheries national monitoring system of Timor-Leste.',
        p2: 'Peskas relies on a team of Timorese enumerators collecting catch data from fishers around Timor-Leste. Catch data are matched with vessel tracking data to show fishing trends over time and space.',
        p3: 'Peskas was built with the objectives of being low cost, open source, open access and near-real time.',
        p4: 'Peskas is the result of an ongoing partnership between WorldFish and the Timor-Leste Ministry of Agriculture and Fisheries\' Department of Fisheries, Aquaculture and Marine Resources since 2016.',
        p5: 'Peskas was made possible with the generous donations of The Royal Norwegian Embassy in Jakarta, The Minderoo Foundation, The CGIAR Big Data Platform and the Schmidt Foundation.',
        p6: 'Peskas is funded by the Government of Timor-Leste since 2021 with technical support from WorldFish and Pelagic Data Systems Inc.',
        p7: 'Information about the process and user-centred design of the Peskas pipeline and initial analytics, and its application in fisheries research & management can be found in the following publications:',
      },
      methodological: {
        title: 'Methodological Information',
        p1: 'The whole Peskas process returns a significant amount of information of different types, from the people involved in the project, the properties of the boats, the species caught, the temporal and spatial information related to fishing trips. This heterogeneous complex of information needs to be tracked, organized and cleaned to be understandable and usable by the community. For this purpose, the path from raw to final data combines the use of many software tools to guarantee that the Peskas data workflow is processed according to the principles of traceability, reproducibility and transparency of the data.',
        p2: 'Peskas was designed to be expanded and eventually distributed in different contexts. One of the biggest issues associated with the distribution of software products is represented by the compatibility between different platforms and different operating systems, as a product developed under a certain platform and version\' dependencies may not work in other platforms. Peskas\' workflow uses containerization technology to face this problem, and specifically Docker, which provides an isolated environment containing all the libraries, dependencies and configurations necessary for the correct functioning of the application.',
        p3: 'The source code regulating the several steps of data workflow is maintained in an R package that bundles together the code, the documentation, the tests, increasing the general manageability and shareability of the whole platform. Furthermore, the code was conceived and developed in a modular and functional-oriented way.',
        p4: 'Given the complexity of the data that compose Peskas, any change to the code must be regularly tested and tracked, a practice called version control. Peskas\' data pipeline relies on the GitHub version control service which guarantees an active and reversible register of the changes made to Peskas as well as improves and speeds up the integration process of new features. All the data pipeline\' steps are organized and triggered according to a specific plan through Github Actions, a service provided by GitHub which automates the data workflow and facilitates the identification of any errors during the progress of the pipeline.',
        p5: 'The final steps of the pipeline produce data products that will be processed by other tools for distribution. Currently, the final products constitute a dashboard web application developed with Shiny, a data report generated with Rmarkdown, and the actual data, distributed through the open-source Dataverse portal.',
        diagram: 'Below a schematic representation of Peskas digital infrastructure.',
      },
      workflow: {
        title: 'Workflow Steps',
        description: 'The following workflow runs on a daily scale through GitHub actions, automatically updating all the input data and the respective outputs.',
        steps: {
          build: {
            title: '1. Build Docker container',
            description: 'The first step consists in building the virtual space in which the data pipeline application runs (the container). All subsequent steps operate in this container, which can be run on any host platform.',
          },
          acquisition: {
            title: '2. Raw data acquisition',
            description: 'In this phase, the raw data associated with the survey landings and the spatial and temporal information of the fishing trips are retrieved through the services provided by the KoBo toolbox and Pelagic data system (PDS) respectively. These data are accessed through the APIs of the respective services and are uploaded and stored on Google Cloud. Data from the SSF project and more recent Peskas data are uploaded separately as they are characterised by a different structure. Each file is assigned with an ID to make each uploaded object unique and easy to recall.',
          },
          preprocessing: {
            title: '3. Data preprocessing',
            description: 'The latest versions of survey landings\' and PDS raw data are downloaded from Google Cloud and elaborated to return an appropriate format for subsequent processing. Specifically, the structure of the raw data tables is reorganized and compacted, date formats are homogenized, and data tables are converted into a binary format that is easier to deal with in R. SSF-project raw data are subjected to a more intensive preprocessing as information including the species\' codes, habitats\' types and gear\' types are defined under a different syntax from that of recent Peskas data.',
          },
          merging: {
            title: '4. Landings merging and weight calculation',
            description: 'This phase involves merging the SSF and recent Peskas data into a single preprocessed dataframe. From this dataframe, we estimate the weight associated with each fishing trip by referring to the length-weight tables provided by the FishBase database. Specifically, we use the API service offered by FishBase to associate both the length-length and length-weight conversion tables with the species captured in Peskas and return an accurate measurement of the catchweight. Since not all species were covered by the FishBase databases, we manually extracted some conversion tables from the SeaLifeBase database.',
          },
          validation: {
            title: '5. Data validation',
            description: 'The data collected by Peskas are not always accurate and may contain many types of errors such as temporal inconsistencies, typo errors, altered numerical values. In this step, the preprocessed data are checked, cleaned and validated. We use the absolute deviation around the median (MAD) for the identification of outliers in the distribution of the numerical values as the number of individuals, catch values and weight. Moreover, the variables are renamed according to a specific ontology developed for small-scale fisheries.',
          },
          modelling: {
            title: '6. Data modelling',
            description: 'In this phase the validated data estimate summary statistics of landing value, catches and landings per unit by modelling validated data using a random-effect statistical model (glmmTMB).',
          },
          export: {
            title: '7. Data export',
            description: 'This step encompasses data preparation and distribution across various platforms. Initially, the data is anonymized to ensure the privacy of fishermen associated with Peskas. Subsequently, we generate daily, monthly, and annual summaries of Peskas\' key descriptors. Each month, these summaries are uploaded to the open-source Dataverse portal via an API service.',
          },
        },
      },
    },
    publications: {
      fao: {
        title: 'PeskAAS: A near real-time monitoring system for small-scale fisheries in Timor-Leste',
        description: 'In A. Tilley & M. B. Roscher (Eds.), Information and communication technologies for small-scale fisheries (ICT4SSF) - A handbook for fisheries stakeholders. In support of the implementation of the Voluntary Guidelines for Securing Sustainable Small-Scale Fisheries in the Context of Food Security and Poverty Eradication (pp. 11–18). FAO; WorldFish.',
      },
      plos: {
        title: 'PeskAAS: A near-real-time, open-source monitoring and analytics system for small-scale fisheries',
        description: 'PloS One, 15(11), e0234760.',
      },
      frontiers: {
        title: 'Nearshore Fish Aggregating Devices Show Positive Outcomes for Sustainable Fisheries Development in Timor-Leste',
        description: 'Frontiers in Marine Science, 6, 487.',
      },
    },
    download: {
      description: 'Download the PeskAAS data for Timor-Leste using',
      link_text: 'Dataverse portal',
    },
    dataverse_title: 'Dataverse',
  },
  table: {
    municipality: 'Municipality',
    revenue_per_trip: 'Revenue per trip',
    landings_per_boat: 'Landings per boat',
    catch_per_trip: 'Catch per trip',
    total_revenue: 'Total revenue',
    total_catch: 'Total catch',
    price_per_kg: 'Price per kg',
    loading: 'Loading table data...',
    error: 'Error loading table data',
    taxa: 'TAXA',
  },
  units: {
    kg: 'kg',
    t: 't',
    tons: 'tons',
    m: 'm',
    million_short: 'M',
    thousand_short: 'k',
    people: 'people',
    percentage_label: 'Percentage (%)',
  },
  vars: {
    n_landings: { short_name: 'Surveyed landings' },
    n_tracks: { short_name: 'Tracked trips' },
    n_matched: { short_name: 'Matched tracks' },
    revenue: {
      short_name: 'Estimated revenue',
      description: 'The estimated total revenue from fishing trips. To illustrate the uncertainty around this estimate, values are rounded to two significant digits.',
      methods: 'The total value is estimated by multiplying the estimated value per trip by the average number of trips per boat and by the number of boats.',
      problems: 'Not assessed',
    },
    total_revenue: { short_name: 'Total revenue' },
    recorded_revenue: { short_name: 'Recorded revenue' },
    catch: {
      short_name: 'Estimated catch',
      description: 'The estimated total catch from fishing trips. To illustrate the uncertainty around this estimate, values are rounded to two significant digits.',
      methods: 'The total catch is estimated by multiplying the estimated catch per trip (nationally or per taxa) by the average number of trips per boat and by the number of boats.',
      problems: 'Not assessed',
    },
    recorded_catch: { short_name: 'Recorded catch' },
    price_kg: {
      short_name: 'Price per kg',
      description: 'The estimated price per Kg from fishing trips. To illustrate the uncertainty around this estimate, values are rounded to two significant digits.',
      methods: 'The price per Kg is estimated by dividing the estimated revenue by the estimated catch in Kg.',
      problems: 'Not assessed',
    },
    landing_revenue: {
      short_name: 'Average trip value',
      description: 'The average trip value is obtained from landing surveys at multiple sites around the country. Fishers are asked for the estimated price of their catch at the landing site regardless of whether the catch is deemed for sale or consumption. Prices may change throughout the year and across landing sites. We then obtain monthly estimates using a random-effect statistical model.',
      methods: 'Survey answers are filtered for outliers. We consider outliers to be those values that are beyond 3 times the median absolute deviation of the log-transformed landing selling prices.',
      problems: 'Occasionally, and especially before 2019, the total selling price of the catch has been recorded incorrectly. This problem is likely to occur when the price is entered per fish or only for part of the catch. There may be a delay of up to several weeks between the time a landing occurs and the time information enters the system.',
    },
    landing_weight: {
      short_name: 'Catch per trip (kg)',
      description: 'The average catch per trip is obtained from landing surveys at multiple sites around the country. Enumerators observe the catch and record the length distribution for each taxon caught. We then use the length data to estimate the equivalent weight using publicly available length-weight relationship coefficients. Finally, we obtain monthly estimates using a random-effect statistical model.',
      methods: 'Catch lengths and the number of individuals are filtered for outliers. We consider outliers those values that are beyond 3 and 7 times the median absolute deviation of the log-transformed lengths and number of individuals respectively. Length-weight relationships are obtained from [FishBase](https://www.fishbase.de/). For each taxon, we use the average for all species present in East Timor or Indonesia.',
      problems: 'The length and number of caught individuals can be imprecise. Taxa are not always correctly identified by enumerators. In addition, taxa are generally grouped at the family or genus level whereas length-weight coefficients are generally available at the species level. This greatly reduces the accuracy of the species-based length-weight coefficients used.',
    },
    n_landings_per_boat: {
      short_name: 'Trips per boat',
      description: 'The number of trips per boat is obtained from the [Pelagic Data Systems](https://www.pelagicdata.com/) tracking data. Boat movements are tracked, and a proprietary algorithm is used to determine when a trip occurs. Estimates are obtained by averaging the number of trips a boat makes over a month.',
      methods: 'Trips are filtered for outliers and some potential algorithm errors. Specifically, we do not take into account trips where the presumed duration is longer than 18 hours or covers a distance over 60km.',
      problems: 'There are known problems with the Pelagic Data systems algorithm. On some occasions, trips are not detected by the system, multiple trips are merged into one, or a single trip is split into several. In addition, poor network coverage might delay or prevent information from being transferred from the tracking devices. The extent or severity of these problems is unknown. Currently, it is not possible to distinguish fishing trips (that result in a landing) from non-fishing trips.',
    },
    n_boats: {
      short_name: 'Number of boats',
      active: 'Active boats',
      description: 'The number of boats is derived from the 2021 East-Timor census. The number of boats in each municipality level is added together to form the national total.',
      methods: 'None',
      problems: 'Not assessed',
    },
    taxa: {
      short_name: 'Taxa (species)',
      description: 'The taxa (species or groups of species) are recorded by enumerators at the landing site.',
      methods: 'We calculate national catch for the eleven most common taxa by weight.',
      problems: 'The categorisation of taxa has changed over time. Prior to April 2019, taxa were recorded at the species level. Later, taxa were grouped into about 60 categories that loosely correspond to the species family or genus. It is not known how this change might affect the estimates.',
    },
    prop_landings_woman: { short_name: 'Trips with women' },
    pds_tracks_trips: { short_name: 'Number of trips' },
    pds_tracks_cpe: { short_name: 'Catch per unit effort' },
    pds_tracks_rpe: { short_name: 'Revenue per unit effort' },
    nut_supply: { short_name: 'Nutrients supply' },
    nut_rdi: { short_name: 'Number of people meeting the daily intake recommendation' },
  },
  indicators: {
    processing: 'Data processing and validation:',
    limitations: 'Known problems and limitations:',
    quality: 'Data quality:',
    not_assessed: 'Not assessed',
    quality_low: 'Low',
    quality_medium: 'Medium',
    quality_high: 'High',
  },
  data_test: {
    pretitle: 'Development',
    title: 'Data Loading Test',
    alert_title: 'Data Loading Examples',
    alert_description_lead: 'This page demonstrates loading data from {count} JSON files using the',
    alert_description_middle: 'and',
    alert_description_tail: 'hooks. All data is type-safe with TypeScript interfaces.',
    loading: 'Loading data files...',
    error_title: 'Error loading data',
    error_file: '{file}: {message}',
    error_multiple: 'Multiple files: {message}',
    retry: 'Retry',
    cards: {
      aggregated_title: 'aggregated.json',
      summary_title: 'summary_data.json',
      pars_title: 'pars.json',
      taxa_title: 'taxa_names.json ({count} taxa)',
    },
    aggregated: {
      daily_records: 'Daily records',
      weekly_records: 'Weekly records',
      monthly_records: 'Monthly records',
      yearly_records: 'Yearly records',
      latest_month: 'Latest month:',
    },
    summary: {
      survey_areas: 'Survey areas',
      fish_groups: 'Fish groups',
      habitat_series: 'Habitat series',
      portfolio_items: 'Portfolio items',
      fish_groups_label: 'Fish groups:',
    },
    pars: {
      variables: 'Variables',
      taxa_display: 'Taxa to display',
      nutrients: 'Nutrients',
      nav_items: 'Nav items',
      home_title: 'Home title:',
    },
    taxa: {
      code: 'Code',
      name: 'Name',
      more: '... and {count} more taxa',
    },
  },
  settings: {
    title: 'Settings',
    language_label: 'Language',
    close: 'Close',
  },
}

// NOTE: Tetum (Tetun) translations - update as needed
const tet: typeof en = {
  brand: {
    title: 'PESKAS Timor-Leste',
    subtitle: 'Dashboard Jestaun',
  },
  nav: {
    home: 'Uma',
    catch: 'Kaptura',
    revenue: 'Renda',
    market: 'Merkadu',
    composition: 'Kompozisaun',
    nutrients: 'Nutriente',
    tracks: 'Indicador Peska',
    about: 'Konaba',
  },
  header: {
    overview: 'Peska eskala ki\'ik',
  },
  footer: {
    licence: 'Lisensia',
    source: 'Código fonte',
    project: 'Projetu',
    last_updated: 'Atualizadu ikus',
    copyright: 'Direitu autór © {year} Peskas. Direitu hotu reservadu.',
  },
  user_menu: {
    name: 'Jane Pearson',
    role: 'Dezenhadór UI',
    profile: 'Perfil',
    settings: 'Konfigurasaun',
    logout: 'Sai',
  },
  actions: {
    toggle_navigation: 'Troka navegasaun',
    toggle_theme: 'Troka tema',
    toggle_language: 'Troka lian',
    open_user_menu: 'Loke menu utilizadór',
  },
  common: {
    information: 'Informasaun',
    national: 'Nasionál',
    loading: 'Karrega...',
    loading_short: '...',
    error_loading: 'Erru karrega dadus',
    no_data: 'Sei la iha dadus',
    all_years: 'Tinan hotu-hotu',
    all_data: 'Dadus hotu',
    last_12_months: 'Fulan 12 ikus',
    last_month: 'Fulan ikus',
    vs_prev_year: 'vs tinan antes',
    avg: 'Média',
    mean: 'Média',
    max: 'Máx',
    total: 'Totál',
    variable_descriptions: 'Deskrisaun Variável',
    data_processing: 'Prosesamentu no validasaun dadus:',
    known_problems: 'Problema no limitasaun ne\'ebé hatene:',
    data_quality: 'KUALIDADE DADUS:',
    no_conservation_data: 'Sei la iha dadus preservasaun',
    municipalities: {
      all: 'Municipiu hotu-hotu',
      ainaro: 'Ainaro',
      atauro: 'Atauro',
      baucau: 'Baukau',
      bobonaro: 'Bobonaru',
      covalima: 'Covalima',
      dili: 'Dili',
      lautem: 'Lautem',
      liquica: 'Likisá',
      manatuto: 'Manatuto',
      manufahi: 'Manufahi',
      oecusse: 'Oekusi',
      viqueque: 'Viqueque',
    },
    months_short: {
      jan: 'Jan',
      feb: 'Fev',
      mar: 'Mar',
      apr: 'Abr',
      may: 'Mai',
      jun: 'Jun',
      jul: 'Jul',
      aug: 'Ago',
      sep: 'Set',
      oct: 'Out',
      nov: 'Nov',
      dec: 'Dez',
    },
  },
  home: {
    title: 'Vizaun jeral nasionál',
    subtitle: 'Relatóriu peska eskala ki\'ik',
    download_report: 'Download relatóriu kompletu',
    intro_title: 'Sistema análise automátiku ba peska eskala ki\'ik iha Timor-Leste',
    intro: {
      title: 'Sistema análise automátiku ba peska eskala ki\'ik iha Timor-Leste',
      content:
        'Peskas mak portal web fonte-abertu ne\'ebé fó dadus no insight kona-ba peskaria iha Timor-Leste. Plataforma ne\'e uza dadus kaptura kolekta hosi enumeradór lokal no dadus rastreiu vasél atu hatudu padraun peskaria iha tempu no espaciu. Projetu ne\'e hahu iha tinan 2016 ho parcería ho Ministériu Agricultura no Peskas Timor-Leste no hetan finansiamentu husi organizasaun barak. Peskas mak sistema monitorizasaun fali-fali ne\'ebé kiik ba kozadu, fonte-abertu ho asesu livre, ne\'ebé prioriza peskaria eskala ki\'ik. Aplicasaun nia iha peskiza no gestao peskaria dokumentadu iha publikasaun barak.',
    },
    recent_activity: 'Atividade Recenti',
    fishing_map: 'Viajen Peska iha Illa Timor-Leste',
    summary_table: 'Estatístika Jerál Peska',
    indicator: 'Indicador',
    value: 'Valor',
    change: 'Mudansa',
    trips: 'Viajen',
    revenue: 'Renda',
    catch: 'Kaptura',
    marker: 'Peskas Timor-Leste',
    map_title: 'Mapa Kalor Atividade Peska',
    map_description: 'Hatudu densidade ro\'o peska iha bee Timor-Leste',
    map_info: 'Mapa kalor ne\'e hatudu densidade ro\'o peska iha kosta Timor-Leste. Dadus ne\'e basa ba amostru ro\'o 440 ho rastreadór GPS, ne\'ebé reprezenta parte husi peska tomak. Tipu ekipamentu peska previzu uza modelu aprendizajen makinal ne\'ebé analiza padraun movimentu ro\'o sira.',
    map_low_density: 'Densidade ki\'ik',
    map_high_density: 'Densidade aas',
    map_gear_types: 'Tipu Ekipamentu',
    map_time_range: 'Intervalu Tempu: {start} - {end}',
    map_radius: 'Raiu: {value}m',
    map_hover_hint: 'Tau mouse iha hexagon ida atu haree informasaun atividade peska detalyadu.',
    map_tooltip_location: 'Lokalizasaun',
    map_tooltip_total_activities: 'Atividade Totál',
    map_legend: 'Densidade',
    map_time_range_label: 'Intervalu Tempu',
    map_radius_label: 'Raiu',
    table: {
      caption: 'Esplora indicador peska prinsipál iha Timor-Leste. Tabela hatudu valor agregadu husi renda estimadu no kaptura, hamutuk ho valor média husi landing kada ró, renda kada viajen, kaptura kada viajen no presu kada kg.',
    },
  },
  catch: {
    subtitle: 'Peska eskala ki\'ik',
    series: 'Kaptura iha tempu',
    trends: 'Padraun Kaptura',
    trend_subtitle: 'Volume kaptura fulan iha tonelada',
    table: 'Resumo kaptura',
    summary_table: 'Tabela Resumu',
    series_name: 'Kaptura',
    month: 'Fulan',
    catch_t: 'Kaptura (tonelada)',
    habitat_treemap: 'Distribuisaun Kaptura',
    treemap_title: 'Taxa kaptura ba habitat no tipu ekipamentu',
    treemap_description: 'Kada kaixa reprezenta kaptura média ba oras ida ba peskador ida-idak ba habitat no tipu ekipamentu ida-idak.',
    description_heading: 'Konaba dadus',
    description_content: 'Estimativa sira ne\'e seidauk validadu kompletu no bele loos. Iha incerteza iha dadus hotu ne\'ebé uza iha kálkulu. Estimativa, maski husi tinan kotuk, bele atualiza bainhira dadus foun disponível. Indicador sira inklui de\'it dadus husi peska artesanál no subsisténsia.',
    description_subheading: 'Informasaun indicador',
  },
  revenue: {
    series_name: 'Renda',
    trends: 'Padraun Renda',
    million_usd: 'Renda (M USD)',
    trend_subtitle: 'Renda fulan iha milion USD',
    warning_heading: 'Estimativa provizóriu',
    warning_content: 'Estimativa sira ne\'e seidauk validadu no bele loos. Uza ho kuidadu.',
    warning_more: 'Hatene liutan',
    summary_table: 'Tabela Resumu',
    habitat_treemap: 'Renda tuir Habitat no Ekipamentu',
    treemap_title: 'Taxa renda ba habitat no tipu ekipamentu',
    treemap_description: 'Kada kaixa reprezenta renda média ba oras ida ba peskador ida-idak ba habitat no tipu ekipamentu ida-idak.',
    table_heading: 'Resumo anuál',
    description_heading: 'Konaba dadus',
    description_subheading: 'Informasaun indicador',
    description_content: 'Estimativa sira ne\'e seidauk validadu kompletu no bele loos. Iha incerteza iha dadus hotu ne\'ebé uza iha kálkulu. Estimativa, maski husi tinan kotuk, bele atualiza bainhira dadus foun disponível. Indicador sira inklui de\'it dadus husi peska artesanál no subsisténsia.',
  },
  market: {
    title: 'Merkadu',
    price_per_kg: 'Presu ba kg',
    avg_price: 'Presu média',
    series_name: 'Presu',
    trend_subtitle: 'Presu fulan ba kilogramu',
    month: 'Fulan',
    price_series: 'Presu iha tempu',
    price_usd: 'Presu (USD/kg)',
    price_by_region: 'Presu ba kg tuir Rejiaun',
    all_data: 'Dadus hotu',
    latest_month: 'Fulan ikus',
    conservation_title: 'Preservasaun Kaptura tuir Rejiaun',
    conservation_description: 'Distribuisaun métodu armazenamentu ikan iha ro\'o iha municipiu Timor-Leste',
    summary_table: 'Resumo Merkadu tuir Municipiu',
    description_footer: '* Valor hotu iha tonelada métrika. Total inklui de\'it dadus depois Abril 2018.',
  },
  composition: {
    title: 'Kompozisaun kaptura',
    percent_heading: 'Kompozisaun relativa',
    highlight_heading: 'Kaptura totál',
    table_heading: 'Kaptura totál',
    table_footer: '*Foto husi FAO',
    description: 'Deskrisaun',
    description_text: 'Nota sira konaba kompozisaun no metodolojia.',
    treemap_title: 'Kaptura tuir Taxa (tonelada)',
    placeholder_region: 'Gráfiku kompozisaun rejiaun',
    placeholder_taxa: 'Gráfiku taxa destake',
    stacked_subtitle: 'Distribuisaun kaptura rejiaun tuir taxa',
    pretitle: 'Peska ki\'ik',
    percent: {
      heading: 'Kompozisaun relativa',
    },
    highlight: {
      heading: 'Kaptura totál',
    },
  },
  taxa: {
    CLP: 'Sardina no arenke',
    FLY: 'Ikan lisan',
    TUN: 'Atum',
    SDX: 'Scad mackerel',
    GZP: 'Ikan garfish',
    SNA: 'Snapper no seaperch',
    CGX: 'Jacks no trevalies',
    CJX: 'Fusiliers',
    BEN: 'Ikan jarum',
    MOO: 'Ikan bulan',
    RAX: 'Mackerel bodu badak',
    LWX: 'Jobfishes',
    MZZ: 'Seluk tan',
  },
  nutrients: {
    title: 'Métrika nutrisaun',
    highlight: 'Destaque nutriente',
    rdi: 'RDI',
    people_count: 'Numeru ema',
    people_count_short: '{value}k',
    people_count_tooltip: '{value}k ema',
    subtitle: 'Numeru ema ne\'ebé satisfaz RDI iha tempu (rihun)',
    treemap_average: 'Intake nutriente tuir kaptura média',
    treemap_average_description: 'Kada kaixa hatudu ema nia kontajen ne\'ebé satisfaz rekomendásaun intake loroloron husi kaptura média iha Timor-Leste.',
    treemap_kg: 'Intake nutriente habitat husi 1 Kg kaptura',
    treemap_kg_description: 'Kada kaixa hatudu ema nia kontajen ne\'ebé satisfaz rekomendásaun intake loroloron husi 1 Kg kaptura iha habitat ida-idak ba nutriente ida-idak.',
    categories: {
      protein: 'Proteína',
      iron: 'Ferru',
      zinc: 'Zinku',
      vita: 'Vitamina A',
      omega3: 'Omega-3',
      vitd: 'Vitamina D',
      calcium: 'Kálsiu',
    },
  },
  tracks: {
    title: 'Indicador Peska',
    map_title: 'Densidade Trilha Peska',
    description: 'Mapa dinámiku mak rezultadu husi krusamentu dadus entre trilha GPS ro\'o (Pelagic Data Systems) no informasaun peska husi survey landing (KoBo toolbox). Indicador peska sira agrega iha grade jeográfiku ho rezulusaun 0.1 x 0.1 grau (aproximadamente 11 x 11 kilómetru).',
    map_caption: 'Explora viajen peska no estatístika asosiadu iha kosta illa Timor ho mapa interativu ami nian. Hili indicador peska, tipu ekipamentu peska, no grupu ikan atu filtra rezultadu. Klik iha pontu viajen atu haree estatístika peska detalhadu ba pontu ne\'e no municipiu asosiadu.',
    map_note: 'Mapa hatudu de\'it viajen peska ne\'ebé iha dadus jeolokalizasaun, sira reprezenta aproximadamente 5% husi total viajen peska ne\'ebé registadu.',
  },
  about: {
    content: 'PESKAS Timor-Leste — dadus no metodu.',
    pretitle: 'Informasaun',
    title: 'Konaba',
    contents_title: 'Kontiudu',
    contents: {
      about_peskas: 'Konaba Peskas',
      methodological: 'Informasaun metodolóji',
      workflow: 'Passu workflow',
      download: 'Karrega dadus',
    },
    sections: {
      aboutPeskas: {
        title: 'Konaba Peskas™',
        p1: 'Peskas mak portal web ne\'ebé hatudu dadus ho informasaun kona ba peska iha Timor-Leste. Ida ne\'e mak sistema monitor nasional hosi peska Timor-Leste.',
        p2: 'Peskas baseia ba ekipa enumeradór Timorésu ne\'ebé kolekta dadus kaptura husi peskador sira iha hela fatin hotu iha Timor-Leste. Dadus kaptura sira sira kombina ho dadus rastreio ro\'o atu hatudu padraun peska iha tempu no espaciu.',
        p3: 'Peskas konstrui ho objetivu atu halo kontestu ne\'ebé kiik ba kozadu, fonte aberta, acessu livre no tempo ne\'ebé fali-fali.',
        p4: 'Peskas mak rezultadu husi parcería tuir tinan husi WorldFish no Ministerio Agrikultura no Peska Timor-Leste, Departamentu Peska, Aquacultura no Rekursos Marítimu, husi tinan 2016.',
        p5: 'Peskas bele halo tanba doasaun foramozu husi Embaixada Noruega iha Jakarta, Fundasaun Minderoo, Plataforma Big Data CGIAR no Fundasaun Schmidt.',
        p6: 'Husi tinan 2021, Governu Timor-Leste sustenta Peskas ho suporti técniku husi WorldFish no Pelagic Data Systems Inc.',
        p7: 'Informasaun kona ba prosesu no desénu sentru ba uzadór pipeline Peskas no analitikain inicial, no aplikasaun sira iha peska no gestao maka bele hetan iha publikasaun nee:',
      },
      methodological: {
        title: 'Informasaun metodolóji',
        p1: 'Processu hotu Peskas fó dadus barak husi tipu sira diferenti, husi ema ne\'ebé involvidu, propriedadiu ro\'o, especie ne\'ebé kaptura, no informasaun tempu no espaciu kona ba viajen peska. Konjuntu informasaun heterogéniu ne\'e tenki halo rastreio, organiza no limpa atu ema bele komprende no uza. Ba dalan ida ne\'e, dalan husi dadus raw toos ba dadus final kombina uzu ferramenta softwéru ba garante prinsipiu traceability, reproducibility no transparénsia.',
        p2: 'Peskas projetadu atu dezenvolve no distribui iha kontestu sira tomak. Problema bootun mak kompatibilidade entre plataforma no sistema operasionál ne\'ebé diferente, tanba dependénsia hosi version ne\'e bele la halo servisu iha plataforma seluk. Workflow Peskas uza teknologi containerizasaun (Docker) atu halo isolamentu nian, inklui livraria, dependénsia no konfigurasaun ne\'ebé tenki ba funcionamentu koretu aplikasaun.',
        p3: 'Kódigu fonte ne\'ebé deskribe passu pipeline dadus mantén iha pacote R ne\'ebé kombina kódigu, dokumentasaun no teste, ne\'ebé aumenta manejabilidade no partilha plataforma. Kódigu ne\'e deskoberta no desenvove iha forma modular no orientadu ba funksion.',
        p4: 'Tanba complexidade dadus Peskas, mudansa ba kódigu tenki testu regularmente no rastreia, praktika ne\'ebé uza version control. Pipeline ne\'e uza GitHub version control atu garante registre reversivel husi mudansa, no aumenta prosesu integra foun. Passu pipeline hotu hotu organizadu no ativadu tuir plánu husi Github Actions, servisu husi GitHub ne\'ebé automatiza workflow no facilita identifikasaun erór.',
        p5: 'Passu final pipeline produz produkto dadus ne\'ebé prosesadu ba software sira atu distribui. Agora, produkto final inklui aplikasaun dashboard halo ho Shiny, relatóriu halo ho Rmarkdown, no dadus ne\'ebé distribui iha portal Dataverse fonte aberta.',
        diagram: 'Abaixu representasaun esquemátika infrastruktura digital Peskas.',
      },
      workflow: {
        title: 'Passu workflow',
        description: 'Workflow nee prosesu loron-loron ho GitHub Actions, automatiza aktualizasaun hotu-hotu ba dadus entrada no produza output sira.',
        steps: {
          build: {
            title: '1. Konstruír kontéiner Docker',
            description: 'Passu bootun mak konstrui espasu virtual ne\'ebé aplikasaun pipeline dadus halo halakon (kontéiner). Passu seluk sira hotu-operasaun iha kontéiner ida-ne\'ebé bele halo iha plataforma seluk.',
          },
          acquisition: {
            title: '2. Akuisisaun dadus raw',
            description: 'Iha fase ne\'e, dadus raw kona ba survey landing no informasaun espasu-tempu husi viajen peska foin hetan husi servisu KoBo toolbox no Pelagic Data System (PDS). Dadus sira akesi husi API sira no sobe ba Google Cloud. Dadus SSF no dadus foun Peskas separadu tanba estrutura ne\'e diferente. Kada ficheiru simu ID atu facilita haktuir no husu fali.',
          },
          preprocessing: {
            title: '3. Preprocessamentu dadus',
            description: 'Versaun foun husi survey landing no dadus PDS mak load ba Google Cloud no transformadu atu format ne\'ebé fasil atu prosesu seluk. Estruktura tabela dadus reorganiza no kompakta, formatu data homogeniza no tabela dadus konverti ba formatu binariu ne\'ebé fasil atu traballu iha R. Dadus SSF prerrequistu preprocessamentu tan ba hamutuk informasaun especie, tipun habitat no tipun ekipamentu ne\'ebé diferente sintaks.',
          },
          merging: {
            title: '4. Fusão landing no kalkulasaun raiu',
            description: 'Fase ne\'e inu inclui fusao dadus SSF no Peskas foun ba data frame preprocessadu ida. Husi data nee, estimativa raiu ba kada viajen peska ho referensia ba tabela length-weight husi FishBase. Ida ho API FishBase ne\'e kombina tábuha length-length no length-weight ho especie Peskas atu retorna medidu ne\'ebé presiza. Tanba la iha especie ne\'ebé abrangidu, ita halo manual husi SeaLifeBase.',
          },
          validation: {
            title: '5. Validasaun dadus',
            description: 'Dadus kolekta husi Peskas la sempre precisa no bele iha erór, hanesan koin konsistensia tempu, tipu letra equivocadu, numeru alteradu. Iha fase nee, dadus preprocessadu sira verifica, limpa no validadu. Ita uza Desviaun Absolutu ba Laran (MAD) atu identifika outlier iha numeru, valor catch no raiu. Tanba efetivu, variavel sira muda naran tuir ontologia svilupa ba peska eskala ki\'ik.',
          },
          modelling: {
            title: '6. Modellasaun dadus',
            description: 'Iha fase ne\'e, dadus validadu estimativa estatístika sira kona ba valor landing, captura no landings per unit, modela ho modelu statístika random-effect (glmmTMB).',
          },
          export: {
            title: '7. Eksporta dadus',
            description: 'Passu nee abrangende preparasaun dadus no distribusaun ba plataforma sira. Primeiru, dadus anonimiza atu proteje privasidada peskador sira. Depois, ita produz resumo loron-loron, fulan no tinan ba deskrisaun chave Peskas. Kada fulan, resumo sira sobe ba portal Dataverse fonte aberta husi API.',
          },
        },
      },
    },
    publications: {
      fao: {
        title: 'PeskAAS: A near real-time monitoring system for small-scale fisheries in Timor-Leste',
        description: 'In A. Tilley & M. B. Roscher (Eds.), Information and communication technologies for small-scale fisheries (ICT4SSF) - A handbook for fisheries stakeholders. In support of the implementation of the Voluntary Guidelines for Securing Sustainable Small-Scale Fisheries in the Context of Food Security and Poverty Eradication (pp. 11–18). FAO; WorldFish.',
      },
      plos: {
        title: 'PeskAAS: A near-real-time, open-source monitoring and analytics system for small-scale fisheries',
        description: 'PloS One, 15(11), e0234760.',
      },
      frontiers: {
        title: 'Nearshore Fish Aggregating Devices Show Positive Outcomes for Sustainable Fisheries Development in Timor-Leste',
        description: 'Frontiers in Marine Science, 6, 487.',
      },
    },
    download: {
      description: 'Karrega dadus PeskAAS ba Timor-Leste uza',
      link_text: 'portal Dataverse',
    },
    dataverse_title: 'Dataverse',
  },
  table: {
    municipality: 'Municipiu',
    revenue_per_trip: 'Renda ba viajen',
    landings_per_boat: 'Landing ba ro\'o',
    catch_per_trip: 'Kaptura ba viajen',
    total_revenue: 'Renda totál',
    total_catch: 'Kaptura totál',
    price_per_kg: 'Presu ba kg',
    loading: 'Karrega dadus tabela...',
    error: 'Erru karrega dadus tabela',
    taxa: 'TAXA',
  },
  units: {
    kg: 'kg',
    t: 't',
    tons: 'tonelada',
    m: 'm',
    million_short: 'M',
    thousand_short: 'k',
    people: 'ema',
    percentage_label: 'Percentajen (%)',
  },
  vars: {
    n_landings: { short_name: 'Landing ne\'ebé survey' },
    n_tracks: { short_name: 'Viajen ne\'ebé track' },
    n_matched: { short_name: 'Track ne\'ebé match' },
    revenue: {
      short_name: 'Renda estimadu',
      description: 'Renda totál estimadu husi viajen peska. Atu ilustra incerteza kona-ba estimativa ne\'e, valor sira arredondadu ba dígitu signifikante rua.',
      methods: 'Valor totál estimadu husi multiplika valor estimadu ba viajen ida ho média viajen ba ro\'o ida no ho numeru ro\'o.',
      problems: 'Sei la avalia',
    },
    total_revenue: { short_name: 'Renda totál' },
    recorded_revenue: { short_name: 'Renda registadu' },
    catch: {
      short_name: 'Kaptura estimadu',
      description: 'Kaptura totál estimadu husi viajen peska. Atu ilustra incerteza kona-ba estimativa ne\'e, valor sira arredondadu ba dígitu signifikante rua.',
      methods: 'Kaptura totál estimadu husi multiplika kaptura estimadu ba viajen ida (nasionál ka tuir taxa) ho média viajen ba ro\'o ida no ho numeru ro\'o.',
      problems: 'Sei la avalia',
    },
    recorded_catch: { short_name: 'Kaptura registadu' },
    price_kg: {
      short_name: 'Presu ba Kg',
      description: 'Presu estimadu ba Kg husi viajen peska. Atu ilustra incerteza kona-ba estimativa ne\'e, valor sira arredondadu ba dígitu signifikante rua.',
      methods: 'Presu ba Kg estimadu husi divide renda estimadu ho kaptura estimadu iha Kg.',
      problems: 'Sei la avalia',
    },
    landing_revenue: {
      short_name: 'Valor viajen média',
      description: 'Valor viajen média hetan husi survey landing iha fatin barak iha rai laran. Peskador sira husu ba presu estimadu kaptura sira nian iha fatin landing la\'o haree kaptura ne\'e ba venda ka konsumu. Presu bele muda durante tinan no entre fatin landing. Depois ita hetan estimativa fulan uza modelu estatístika random-effect.',
      methods: 'Resposta survey filtra ba outlier. Ita konsidera outlier valor sira ne\'ebé liu 3 vez median absolute deviation husi log-transform presu venda landing.',
      problems: 'Dala ruma, no liuliu antes 2019, presu venda totál kaptura registadu la loos. Problema ne\'e bele akontese bainhira presu tama ba ikan ida ka de\'it ba parte kaptura. Iha atrasu to\'o semana barak entre tempu landing akontese no tempu informasaun tama sistema.',
    },
    landing_weight: {
      short_name: 'Kaptura média ba viajen',
      description: 'Kaptura média ba viajen hetan husi survey landing iha fatin barak iha rai laran. Enumeradór haree kaptura no registra distribusaun komprimentu ba taxa ida-idak ne\'ebé kaptura. Depois ita uza dadus komprimentu atu estima raiu ekivalente uza koeficiente relasaun komprimentu-raiu ne\'ebé disponível públiku. Finalmente, ita hetan estimativa fulan uza modelu estatístika random-effect.',
      methods: 'Komprimentu kaptura no numeru individuu filtra ba outlier. Ita konsidera outlier valor sira ne\'ebé liu 3 no 7 vez median absolute deviation husi log-transform komprimentu no numeru individuu respetivamente. Relasaun komprimentu-raiu hetan husi [FishBase](https://www.fishbase.de/). Ba taxa ida-idak, ita uza média ba especie hotu ne\'ebé iha Timor-Leste ka Indonézia.',
      problems: 'Komprimentu no numeru individuu kaptura bele la presiza. Taxa la sempre identifika koretu husi enumeradór. Tan ne\'e, taxa geralmente grupu iha nivel família ka genus maibé koeficiente komprimentu-raiu geralmente disponível iha nivel especie. Ida ne\'e reduz tebes akurásia koeficiente komprimentu-raiu bazeia ba especie ne\'ebé uza.',
    },
    n_landings_per_boat: {
      short_name: 'Viajen ba ro\'o',
      description: 'Numeru viajen ba ro\'o hetan husi dadus rastreiu [Pelagic Data Systems](https://www.pelagicdata.com/). Movimentu ro\'o rastreadu, no algoritmu proprietáriu uza atu determina bainhira viajen akontese. Estimativa hetan husi média numeru viajen ro\'o ida halo durante fulan ida.',
      methods: 'Viajen filtra ba outlier no erór algoritmu potensiál ruma. Espesifikamente, ita la konsidera viajen ne\'ebé durasaun presumidu liu 18 oras ka kobre distánsia liu 60km.',
      problems: 'Iha problema ne\'ebé hatene ho algoritmu sistema Pelagic Data. Dala ruma, viajen la deteta husi sistema, viajen barak kombina ba ida, ka viajen ida divide ba barak. Tan ne\'e, kobertura rede fraku bele atrasa ka prevene informasaun transferi husi dispozitivu rastreiu. Estensu ka severidade problema sira ne\'e la hatene. Agora, la posível distingue viajen peska (ne\'ebé rezulta landing) husi viajen la peska.',
    },
    n_boats: {
      short_name: 'Numeru ro\'o',
      active: 'Ro\'o ativu',
      description: 'Numeru ro\'o mak hetan husi sensu Timor-Leste tinan 2021. Numeru ro\'o iha kada nivel municipiu soma hamutuk atu forma total nasionál.',
      methods: 'Lae',
      problems: 'Sei la avalia',
    },
    taxa: {
      short_name: 'Taxa (espésie)',
      description: 'Taxa (espésie ka grupu especie) registadu husi enumeradór iha fatin landing.',
      methods: 'Ita kalkula kaptura nasionál ba taxa 11 komún liu husi raiu.',
      problems: 'Kategorizasaun taxa muda iha tempu. Antes Abril 2019, taxa registadu iha nivel especie. Depois, taxa grupu ba kategoria aproximadamente 60 ne\'ebé koresponde loos ba família ka genus especie. La hatene oinsá mudansa ne\'e bele afeta estimativa.',
    },
    prop_landings_woman: { short_name: 'Viajen ho feto' },
    pds_tracks_trips: { short_name: 'Numeru viajen' },
    pds_tracks_cpe: { short_name: 'Kaptura ba unidade esforsu' },
    pds_tracks_rpe: { short_name: 'Renda ba unidade esforsu' },
    nut_supply: { short_name: 'Fornese nutriente' },
    nut_rdi: { short_name: 'Numeru ema ne\'ebé satisfaz rekomendásaun intake loroloron' },
  },
  indicators: {
    processing: 'Prosesamentu no validasaun dadus:',
    limitations: 'Problema no limitasaun ne\'ebé hatene:',
    quality: 'Kualidade dadus:',
    not_assessed: 'Sei la avalia',
    quality_low: 'Kraik',
    quality_medium: 'Médiu',
    quality_high: 'Aas',
  },
  data_test: {
    pretitle: 'Dezenvolvimentu',
    title: 'Teste Karrega Dadus',
    alert_title: 'Ezemplu Karrega Dadus',
    alert_description_lead: 'Pájina ne\'e hatudu karrega dadus husi ficheiru JSON {count} uza hook',
    alert_description_middle: 'no',
    alert_description_tail: 'hooks. Dadus hotu iha tipu-seguru ho interface TypeScript.',
    loading: 'Karrega ficheiru dadus...',
    error_title: 'Erru karrega dadus',
    error_file: '{file}: {message}',
    error_multiple: 'Ficheiru barak: {message}',
    retry: 'Koko fali',
    cards: {
      aggregated_title: 'aggregated.json',
      summary_title: 'summary_data.json',
      pars_title: 'pars.json',
      taxa_title: 'taxa_names.json ({count} taxa)',
    },
    aggregated: {
      daily_records: 'Rekordu loroloron',
      weekly_records: 'Rekordu semanál',
      monthly_records: 'Rekordu fulan',
      yearly_records: 'Rekordu tinan',
      latest_month: 'Fulan ikus:',
    },
    summary: {
      survey_areas: 'Área survey',
      fish_groups: 'Grupu ikan',
      habitat_series: 'Seri habitat',
      portfolio_items: 'Item portfólio',
      fish_groups_label: 'Grupu ikan:',
    },
    pars: {
      variables: 'Variavel',
      taxa_display: 'Taxa atu hatudu',
      nutrients: 'Nutriente',
      nav_items: 'Item navegasaun',
      home_title: 'Titulu Uma:',
    },
    taxa: {
      code: 'Kódigu',
      name: 'Naran',
      more: '... no {count} taxa tan',
    },
  },
  settings: {
    title: 'Konfigurasaun',
    language_label: 'Lian',
    close: 'Taka',
  },
}

const pt: typeof en = {
  brand: {
    title: 'PESKAS | Timor-Leste',
    subtitle: 'Painel de Gestão',
  },
  nav: {
    home: 'Início',
    catch: 'Captura',
    revenue: 'Receita',
    market: 'Mercado',
    composition: 'Composição',
    nutrients: 'Nutrientes',
    tracks: 'Indicadores da Pesca',
    about: 'Sobre',
  },
  header: {
    overview: 'Pesca de pequena escala',
  },
  footer: {
    licence: 'Licença',
    source: 'Código fonte',
    project: 'O projeto',
    last_updated: 'Última atualização',
    copyright: 'Copyright © {year} Peskas. Todos os direitos reservados.',
  },
  user_menu: {
    name: 'Jane Pearson',
    role: 'Design de UI',
    profile: 'Perfil',
    settings: 'Configurações',
    logout: 'Sair',
  },
  actions: {
    toggle_navigation: 'Alternar navegação',
    toggle_theme: 'Alternar tema',
    toggle_language: 'Alternar idioma',
    open_user_menu: 'Abrir menu do usuário',
  },
  common: {
    information: 'Informações',
    national: 'Nacional',
    loading: 'Carregando...',
    loading_short: '...',
    error_loading: 'Erro ao carregar dados',
    no_data: 'Sem dados disponíveis',
    all_years: 'Todos os anos',
    all_data: 'Todos os dados',
    last_12_months: 'Últimos 12 meses',
    last_month: 'Último mês',
    vs_prev_year: 'vs ano anterior',
    avg: 'Média',
    mean: 'Média',
    max: 'Máx',
    total: 'Total',
    variable_descriptions: 'Descrições de Variáveis',
    data_processing: 'Processamento e validação de dados:',
    known_problems: 'Problemas e limitações conhecidas:',
    data_quality: 'QUALIDADE DOS DADOS:',
    no_conservation_data: 'Sem dados de conservação disponíveis',
    municipalities: {
      all: 'Todos os municípios',
      ainaro: 'Ainaro',
      atauro: 'Atauro',
      baucau: 'Baucau',
      bobonaro: 'Bobonaro',
      covalima: 'Covalima',
      dili: 'Dili',
      lautem: 'Lautem',
      liquica: 'Liquiça',
      manatuto: 'Manatuto',
      manufahi: 'Manufahi',
      oecusse: 'Oecusse',
      viqueque: 'Viqueque',
    },
    months_short: {
      jan: 'Jan',
      feb: 'Fev',
      mar: 'Mar',
      apr: 'Abr',
      may: 'Mai',
      jun: 'Jun',
      jul: 'Jul',
      aug: 'Ago',
      sep: 'Set',
      oct: 'Out',
      nov: 'Nov',
      dec: 'Dez',
    },
  },
  home: {
    title: 'Visão geral nacional',
    subtitle: 'Relatório de pesca artesanal',
    download_report: 'Baixar relatório completo',
    intro_title: 'Sistema automatizado de análises para a pesca artesanal em Timor-Leste',
    intro: {
      title: 'Sistema automatizado de análises para a pesca artesanal em Timor-Leste',
      content:
        'O Peskas é um portal web de código aberto que disponibiliza dados e insights sobre as pescas em Timor-Leste. A plataforma utiliza dados de captura recolhidos por enumeradores locais e dados de rastreamento de embarcações para mostrar tendências de pesca ao longo do tempo e do espaço. O projeto foi iniciado em 2016 em parceria com o Ministério da Agricultura e Pescas de Timor-Leste e tem sido financiado por várias organizações. O Peskas é um sistema de monitorização quase em tempo real, de baixo custo e acesso aberto, com foco nas pescas de pequena escala. A sua aplicação na investigação e gestão pesqueira foi documentada em várias publicações.',
    },
    recent_activity: 'Atividade recente',
    fishing_map: 'Viagens de pesca ao redor da Ilha de Timor-Leste',
    summary_table: 'Estatísticas gerais da pesca',
    indicator: 'Indicador',
    value: 'Valor',
    change: 'Variação',
    trips: 'Viagens',
    revenue: 'Receita',
    catch: 'Captura',
    marker: 'Peskas Timor-Leste',
    map_title: 'Mapa de calor da atividade pesqueira',
    map_description: 'Visualizando a densidade de embarcações pesqueiras nas águas de Timor-Leste',
    map_info: 'Este mapa de calor mostra a densidade de embarcações pesqueiras ao longo da costa de Timor-Leste. Os dados são baseados em uma amostra de 440 embarcações equipadas com rastreadores GPS, representando uma parcela da pesca total. O tipo de equipamento foi previsto por meio de um modelo de aprendizado de máquina que analisa os padrões de movimento das embarcações.',
    map_low_density: 'Baixa densidade',
    map_high_density: 'Alta densidade',
    map_gear_types: 'Tipos de equipamento',
    map_time_range: 'Intervalo de tempo: {start} - {end}',
    map_radius: 'Raio: {value}m',
    map_hover_hint: 'Passe o cursor sobre um hexágono para ver informações detalhadas de atividade pesqueira.',
    map_tooltip_location: 'Localização',
    map_tooltip_total_activities: 'Total de atividades',
    map_legend: 'Densidade',
    map_time_range_label: 'Intervalo de Tempo',
    map_radius_label: 'Raio',
    table: {
      caption: 'Explore os principais indicadores da pesca em Timor-Leste. A tabela mostra os valores agregados da receita e captura estimadas, juntamente com os valores medianos de desembarques por embarcação, receita por viagem, captura por viagem e preço por kg.',
    },
  },
  catch: {
    subtitle: 'Pesca artesanal',
    series: 'Captura ao longo do tempo',
    trends: 'Tendências de Captura',
    trend_subtitle: 'Volume mensal de captura em toneladas',
    table: 'Resumo de captura',
    summary_table: 'Tabela resumo',
    series_name: 'Captura',
    month: 'Mês',
    catch_t: 'Captura (toneladas)',
    habitat_treemap: 'Distribuição de Captura',
    treemap_title: 'Taxa de captura por habitat e tipo de equipamento',
    treemap_description: 'Cada bloco representa a captura horária média de um pescador individual para cada habitat e tipo de equipamento.',
    description_heading: 'Sobre os dados',
    description_content: 'Essas estimativas ainda não foram validadas completamente e podem apresentar imprecisões. Há certa incerteza em todos os dados utilizados nos cálculos. As estimativas, inclusive de anos anteriores, podem ser atualizadas sempre que novos dados estiverem disponíveis. Os indicadores incluem apenas dados de pescas artesanais e de subsistência.',
    description_subheading: 'Informações do indicador',
  },
  revenue: {
    series_name: 'Receita',
    trends: 'Tendências de Receita',
    million_usd: 'Receita (M USD)',
    trend_subtitle: 'Receita mensal em milhões de USD',
    warning_heading: 'Estimativas provisórias',
    warning_content: 'Essas estimativas não foram validadas e podem ser imprecisas. Use com cautela.',
    warning_more: 'Saiba mais',
    summary_table: 'Tabela resumo',
    habitat_treemap: 'Receita por habitat e equipamento',
    treemap_title: 'Taxa de receita por habitat e tipo de equipamento',
    treemap_description: 'Cada bloco representa a receita horária média de um pescador individual para cada habitat e tipo de equipamento.',
    table_heading: 'Resumo anual',
    description_heading: 'Sobre os dados',
    description_subheading: 'Informações do indicador',
    description_content: 'Essas estimativas ainda não foram validadas completamente e podem apresentar imprecisões. Há certa incerteza em todos os dados utilizados nos cálculos. As estimativas, inclusive de anos anteriores, podem ser atualizadas sempre que novos dados estiverem disponíveis. Os indicadores incluem apenas dados de pescas artesanais e de subsistência.',
  },
  market: {
    title: 'Mercado',
    price_per_kg: 'Preço por kg',
    avg_price: 'Preço médio',
    series_name: 'Preço',
    trend_subtitle: 'Preço mensal por quilograma',
    month: 'Mês',
    price_series: 'Preço ao longo do tempo',
    price_usd: 'Preço (USD/kg)',
    price_by_region: 'Preço por kg por região',
    all_data: 'Todos os dados',
    latest_month: 'Último mês',
    conservation_title: 'Preservação das capturas por região',
    conservation_description: 'Distribuição dos métodos de conservação de pescado nos barcos dos municípios de Timor-Leste',
    summary_table: 'Resumo do mercado por município',
    description_footer: '* Todos os valores em toneladas métricas. Os totais incluem apenas dados após abril de 2018.',
  },
  composition: {
    title: 'Composição da captura',
    percent_heading: 'Composição relativa',
    highlight_heading: 'Captura total',
    table_heading: 'Captura total',
    table_footer: '*Fotos pela FAO',
    description: 'Descrição',
    description_text: 'Notas principais sobre composição e metodologia.',
    treemap_title: 'Captura por taxa (toneladas)',
    placeholder_region: 'Gráfico de composição por região',
    placeholder_taxa: 'Gráfico de destaque por taxa',
    stacked_subtitle: 'Distribuição de captura regional por taxa',
    pretitle: 'Pesca artesanal',
    percent: {
      heading: 'Composição relativa',
    },
    highlight: {
      heading: 'Captura total',
    },
  },
  taxa: {
    CLP: 'Sardinhas e arenques',
    FLY: 'Peixes voadores',
    TUN: 'Atuns',
    SDX: 'Cavalinhas',
    GZP: 'Peixes-agulha',
    SNA: 'Lutjanídeos e serranídeos',
    CGX: 'Carangídeos e xaréus',
    CJX: 'Fusileiros',
    BEN: 'Peixes-agulha',
    MOO: 'Peixes-lua',
    RAX: 'Cavalinhas de corpo curto',
    LWX: 'Peixes-lutjanídeos',
    MZZ: 'Outros',
  },
  nutrients: {
    title: 'Métricas nutricionais',
    highlight: 'Destaque de nutrientes',
    rdi: 'IDR',
    people_count: 'Número de pessoas',
    people_count_short: '{value}k',
    people_count_tooltip: '{value}k pessoas',
    subtitle: 'Número de pessoas atendendo IDR ao longo do tempo (milhares)',
    treemap_average: 'Ingestão de nutrientes pela captura média',
    treemap_average_description: 'Cada bloco mostra quantas pessoas cumprem a recomendação diária de ingestão a partir de uma captura média em Timor-Leste.',
    treemap_kg: 'Ingestão de nutrientes por habitat a partir de 1 Kg de captura',
    treemap_kg_description: 'Cada bloco mostra quantas pessoas cumprem a recomendação diária de ingestão a partir de 1 Kg de captura em cada habitat para cada nutriente.',
    categories: {
      protein: 'Proteína',
      iron: 'Ferro',
      zinc: 'Zinco',
      vita: 'Vitamina A',
      omega3: 'Ômega-3',
      vitd: 'Vitamina D',
      calcium: 'Cálcio',
    },
  },
  tracks: {
    title: 'Indicadores da Pesca',
    map_title: 'Densidade das rotas de pesca',
    description: 'O mapa dinâmico é o resultado do cruzamento entre trilhas GPS das embarcações (Pelagic Data Systems) e informações de pesca derivadas dos desembarques de pesquisa (KoBo toolbox). Os indicadores pesqueiros são agregados em uma grade geográfica com resolução de 0,1 x 0,1 graus (aproximadamente 11 x 11 quilômetros).',
    map_caption: 'Explore viagens de pesca e estatísticas associadas à costa da Ilha de Timor com nosso mapa interativo. Selecione indicadores da pesca, tipo de equipamento e grupo de peixes para filtrar os resultados. Clique em um ponto de viagem para ver estatísticas detalhadas desse ponto e do município associado.',
    map_note: 'O mapa exibe apenas as viagens de pesca para as quais temos dados de geolocalização; elas representam cerca de 5% do total de viagens registradas.',
  },
  about: {
    content: 'PESKAS Timor-Leste — panorama de dados e métodos.',
    pretitle: 'Informações',
    title: 'Sobre',
    contents_title: 'Conteúdos',
    contents: {
      about_peskas: 'Sobre o Peskas',
      methodological: 'Informações metodológicas',
      workflow: 'Etapas do workflow',
      download: 'Baixar dados',
    },
    sections: {
      aboutPeskas: {
        title: 'Sobre o Peskas™',
        p1: 'O Peskas é um portal web que apresenta dados e insights sobre as pescas de Timor-Leste. É o sistema nacional oficial de monitoramento das pescas de Timor-Leste.',
        p2: 'O Peskas conta com uma equipe de enumeradores timorenses que coletam dados de captura de pescadores em Timor-Leste. Os dados de captura são combinados com os dados de rastreamento das embarcações para mostrar as tendências de pesca no tempo e no espaço.',
        p3: 'O Peskas foi criado com os objetivos de ser de baixo custo, código aberto, acesso livre e praticamente em tempo real.',
        p4: 'O Peskas é resultado de uma parceria contínua entre a WorldFish e o Departamento de Pescas, Aquicultura e Recursos Marinhos do Ministério da Agricultura e Pescas de Timor-Leste desde 2016.',
        p5: 'O Peskas foi viabilizado graças às generosas doações da Embaixada Real da Noruega em Jacarta, da Fundação Minderoo, da Plataforma de Big Data do CGIAR e da Fundação Schmidt.',
        p6: 'Desde 2021, o Peskas é financiado pelo Governo de Timor-Leste com apoio técnico da WorldFish e da Pelagic Data Systems Inc.',
        p7: 'Informações sobre o processo e o design centrado no usuário do pipeline do Peskas, suas análises iniciais e sua aplicação na pesquisa e gestão pesqueira podem ser encontradas nas publicações a seguir:',
      },
      methodological: {
        title: 'Informações metodológicas',
        p1: 'Todo o processo do Peskas gera uma quantidade significativa de informações de diferentes tipos: as pessoas envolvidas no projeto, as características das embarcações, as espécies capturadas e as informações temporais e espaciais relacionadas às viagens de pesca. Esse complexo heterogêneo precisa ser rastreado, organizado e limpo para ser compreensível e utilizável pela comunidade. Para esse propósito, o caminho dos dados brutos aos dados finais combina o uso de várias ferramentas de software para garantir que o fluxo de trabalho do Peskas seja processado segundo os princípios de rastreabilidade, reprodutibilidade e transparência.',
        p2: 'O Peskas foi concebido para ser expandido e eventualmente distribuído em diferentes contextos. Um dos maiores desafios na distribuição de produtos de software é a compatibilidade entre plataformas e sistemas operacionais distintos, pois um produto desenvolvido em determinada plataforma com dependências específicas pode não funcionar em outras. O fluxo de trabalho do Peskas faz uso da tecnologia de conteinerização para enfrentar esse problema, em especial o Docker, que fornece um ambiente isolado contendo todas as bibliotecas, dependências e configurações necessárias para o funcionamento correto da aplicação.',
        p3: 'O código-fonte que regula as várias etapas do fluxo de trabalho dos dados é mantido em um pacote R que reúne o código, a documentação e os testes, aumentando a capacidade de gerenciamento e compartilhamento de toda a plataforma. Além disso, o código foi concebido e desenvolvido de forma modular e orientada a funções.',
        p4: 'Dada a complexidade dos dados que compõem o Peskas, qualquer mudança no código deve ser regularmente testada e rastreada, prática conhecida como controle de versão. O pipeline de dados do Peskas depende do serviço de controle de versão do GitHub, que garante um registro ativo e reversível das alterações feitas no Peskas e melhora e acelera o processo de integração de novos recursos. Todas as etapas do pipeline são organizadas e acionadas por um plano específico por meio das GitHub Actions, um serviço fornecido pelo GitHub que automatiza o fluxo de trabalho dos dados e facilita a identificação de erros durante o progresso do pipeline.',
        p5: 'As etapas finais do pipeline produzem produtos de dados que são processados por outras ferramentas para distribuição. Atualmente, os produtos finais consistem em uma aplicação web tipo painel desenvolvida com Shiny, um relatório de dados gerado com Rmarkdown e os dados propriamente ditos, distribuídos pelo portal open source Dataverse.',
        diagram: 'Abaixo, uma representação esquemática da infraestrutura digital do Peskas.',
      },
      workflow: {
        title: 'Etapas do workflow',
        description: 'O seguinte fluxo de trabalho é executado diariamente por meio das GitHub Actions, atualizando automaticamente todos os dados de entrada e suas respectivas saídas.',
        steps: {
          build: {
            title: '1. Construção do container Docker',
            description: 'A primeira etapa consiste em construir o espaço virtual no qual a aplicação do pipeline de dados roda (o container). Todas as etapas subsequentes operam dentro desse container, que pode ser executado em qualquer plataforma hospedeira.',
          },
          acquisition: {
            title: '2. Aquisição de dados brutos',
            description: 'Nessa fase, os dados brutos associados aos desembarques de pesquisa e às informações espaciais e temporais das viagens de pesca são coletados pelos serviços fornecidos pela KoBo toolbox e pelo sistema de dados Pelagic (PDS), respectivamente. Esses dados são acessados por meio das APIs dos serviços correspondentes e carregados no Google Cloud. Os dados do projeto SSF e os dados mais recentes do Peskas são carregados separadamente, porque apresentam estrutura diferente. Cada arquivo recebe um ID para tornar cada objeto único e fácil de recuperar.',
          },
          preprocessing: {
            title: '3. Pré-processamento de dados',
            description: 'As versões mais recentes dos dados brutos dos desembarques e do PDS são baixadas do Google Cloud e preparadas para retornar um formato adequado às etapas seguintes. Especificamente, a estrutura das tabelas é reorganizada e compactada, os formatos de data são uniformizados e as tabelas de dados são convertidas em binário, o que facilita o tratamento em R. Os dados do projeto SSF passam por um pré-processamento mais intenso, pois informações como códigos de espécies, tipos de habitat e tipos de equipamento são registradas com sintaxe diferente da dos dados mais recentes do Peskas.',
          },
          merging: {
            title: '4. Fusão dos desembarques e cálculo de peso',
            description: 'Essa fase combina os dados do SSF e os dados recentes do Peskas em um único dataframe pré-processado. A partir desse dataframe, estimamos o peso associado a cada viagem de pesca consultando as tabelas de comprimento-peso fornecidas pelo banco de dados FishBase. Utilizamos o serviço API do FishBase para associar as tabelas de conversão comprimento-comprimento e comprimento-peso às espécies capturadas no Peskas e obter uma medida precisa do peso da captura. Como nem todas as espécies estão cobertas pelo FishBase, extraímos manualmente algumas tabelas de conversão do SeaLifeBase.',
          },
          validation: {
            title: '5. Validação de dados',
            description: 'Os dados coletados pelo Peskas nem sempre são precisos e podem conter erros diversos, como inconsistências temporais, erros de digitação e valores numéricos alterados. Nesta etapa, os dados pré-processados são verificados, limpos e validados. Utilizamos o desvio absoluto em torno da mediana (MAD) para identificar outliers na distribuição dos valores numéricos, como o número de indivíduos, o valor da captura e o peso. Além disso, as variáveis são renomeadas segundo uma ontologia específica desenvolvida para a pesca de pequena escala.',
          },
          modelling: {
            title: '6. Modelagem de dados',
            description: 'Nesta fase, os dados validados estimam estatísticas resumidas do valor dos desembarques, das capturas e dos desembarques por unidade, modelando os dados validados com um modelo estatístico de efeitos aleatórios (glmmTMB).',
          },
          export: {
            title: '7. Exportação de dados',
            description: 'Esta etapa abrange a preparação dos dados e sua distribuição por diversas plataformas. Inicialmente, os dados são anonimizados para garantir a privacidade dos pescadores associados ao Peskas. Posteriormente, geramos resumos diários, mensais e anuais dos principais descritores do Peskas. Todo mês, esses resumos são publicados no portal open source Dataverse via API.',
          },
        },
      },
    },
    publications: {
      fao: {
        title: 'PeskAAS: A near real-time monitoring system for small-scale fisheries in Timor-Leste',
        description: 'Em A. Tilley & M. B. Roscher (Eds.), Information and communication technologies for small-scale fisheries (ICT4SSF) - Um manual para atores da pesca. Em apoio à implementação das Diretrizes Voluntárias para assegurar pescas de pequena escala sustentáveis no contexto da segurança alimentar e erradicação da pobreza (pp. 11–18). FAO; WorldFish.',
      },
      plos: {
        title: 'PeskAAS: A near-real-time, open-source monitoring and analytics system for small-scale fisheries',
        description: 'PloS One, 15(11), e0234760.',
      },
      frontiers: {
        title: 'Nearshore Fish Aggregating Devices Show Positive Outcomes for Sustainable Fisheries Development in Timor-Leste',
        description: 'Frontiers in Marine Science, 6, 487.',
      },
    },
    download: {
      description: 'Baixe os dados do PeskAAS para Timor-Leste usando',
      link_text: 'portal Dataverse',
    },
    dataverse_title: 'Dataverse',
  },
  table: {
    municipality: 'Município',
    revenue_per_trip: 'Receita por viagem',
    landings_per_boat: 'Desembarques por embarcação',
    catch_per_trip: 'Captura por viagem',
    total_revenue: 'Receita total',
    total_catch: 'Captura total',
    price_per_kg: 'Preço por kg',
    loading: 'Carregando dados da tabela...',
    error: 'Erro ao carregar dados da tabela',
    taxa: 'TAXA',
  },
  units: {
    kg: 'kg',
    t: 't',
    tons: 'toneladas',
    m: 'm',
    million_short: 'M',
    thousand_short: 'k',
    people: 'pessoas',
    percentage_label: 'Percentual (%)',
  },
  vars: {
    n_landings: {
      short_name: 'Desembarques pesquisados',
    },
    n_tracks: {
      short_name: 'Viagens rastreadas',
    },
    n_matched: {
      short_name: 'Rastreios correspondidos',
    },
    revenue: {
      short_name: 'Receita estimada',
      description: 'A receita total estimada das viagens de pesca. Para ilustrar a incerteza em torno desta estimativa, os valores são arredondados para dois dígitos significativos.',
      methods: 'O valor total é estimado multiplicando o valor estimado por viagem pela média de viagens por embarcação e pelo número de embarcações.',
      problems: 'Não avaliado',
    },
    total_revenue: {
      short_name: 'Receita total',
    },
    recorded_revenue: {
      short_name: 'Receita registrada',
    },
    catch: {
      short_name: 'Captura estimada',
      description: 'A captura total estimada das viagens de pesca. Para ilustrar a incerteza em torno desta estimativa, os valores são arredondados para dois dígitos significativos.',
      methods: 'A captura total é estimada multiplicando a captura estimada por viagem (nacionalmente ou por taxa) pela média de viagens por embarcação e pelo número de embarcações.',
      problems: 'Não avaliado',
    },
    recorded_catch: {
      short_name: 'Captura registrada',
    },
    price_kg: {
      short_name: 'Preço por Kg',
      description: 'O preço estimado por Kg das viagens de pesca. Para ilustrar a incerteza em torno desta estimativa, os valores são arredondados para dois dígitos significativos.',
      methods: 'O preço por Kg é estimado dividindo a receita estimada pela captura estimada em Kg.',
      problems: 'Não avaliado',
    },
    landing_revenue: {
      short_name: 'Valor médio por viagem',
      description: 'O valor médio por viagem é obtido de pesquisas de desembarque em vários locais do país. Os pescadores são questionados sobre o preço estimado de sua captura no local de desembarque, independentemente de a captura ser destinada à venda ou ao consumo. Os preços podem mudar ao longo do ano e entre locais de desembarque. Em seguida, obtemos estimativas mensais usando um modelo estatístico de efeitos aleatórios.',
      methods: 'As respostas da pesquisa são filtradas para outliers. Consideramos outliers aqueles valores que estão além de 3 vezes o desvio absoluto mediano dos preços de venda de desembarque transformados em log.',
      problems: 'Ocasionalmente, e especialmente antes de 2019, o preço total de venda da captura foi registrado incorretamente. Este problema provavelmente ocorre quando o preço é inserido por peixe ou apenas para parte da captura. Pode haver um atraso de até várias semanas entre o momento em que um desembarque ocorre e o momento em que a informação entra no sistema.',
    },
    landing_weight: {
      short_name: 'Captura média por viagem',
      description: 'A captura média por viagem é obtida de pesquisas de desembarque em vários locais do país. Os enumeradores observam a captura e registram a distribuição de comprimento para cada táxon capturado. Em seguida, usamos os dados de comprimento para estimar o peso equivalente usando coeficientes de relação comprimento-peso disponíveis publicamente. Finalmente, obtemos estimativas mensais usando um modelo estatístico de efeitos aleatórios.',
      methods: 'Os comprimentos da captura e o número de indivíduos são filtrados para outliers. Consideramos outliers aqueles valores que estão além de 3 e 7 vezes o desvio absoluto mediano dos comprimentos e número de indivíduos transformados em log, respectivamente. As relações comprimento-peso são obtidas do [FishBase](https://www.fishbase.de/). Para cada táxon, usamos a média para todas as espécies presentes em Timor-Leste ou na Indonésia.',
      problems: 'O comprimento e o número de indivíduos capturados podem ser imprecisos. Os táxons nem sempre são corretamente identificados pelos enumeradores. Além disso, os táxons geralmente são agrupados no nível de família ou gênero, enquanto os coeficientes comprimento-peso geralmente estão disponíveis no nível de espécie. Isso reduz muito a precisão dos coeficientes comprimento-peso baseados em espécies usados.',
    },
    n_landings_per_boat: {
      short_name: 'Viagens por embarcação',
      description: 'O número de viagens por embarcação é obtido dos dados de rastreamento do [Pelagic Data Systems](https://www.pelagicdata.com/). Os movimentos das embarcações são rastreados e um algoritmo proprietário é usado para determinar quando uma viagem ocorre. As estimativas são obtidas calculando a média do número de viagens que uma embarcação faz em um mês.',
      methods: 'As viagens são filtradas para outliers e alguns erros potenciais do algoritmo. Especificamente, não levamos em conta viagens onde a duração presumida é superior a 18 horas ou cobre uma distância superior a 60km.',
      problems: 'Há problemas conhecidos com o algoritmo do Pelagic Data Systems. Em algumas ocasiões, as viagens não são detectadas pelo sistema, múltiplas viagens são mescladas em uma, ou uma única viagem é dividida em várias. Além disso, a cobertura de rede ruim pode atrasar ou impedir que as informações sejam transferidas dos dispositivos de rastreamento. A extensão ou gravidade desses problemas é desconhecida. Atualmente, não é possível distinguir viagens de pesca (que resultam em um desembarque) de viagens não pesqueiras.',
    },
    n_boats: {
      short_name: 'Número de embarcações',
      active: 'Embarcações ativas',
      description: 'O número de embarcações é derivado do censo de Timor-Leste de 2021. O número de embarcações em cada nível municipal é somado para formar o total nacional.',
      methods: 'Nenhum',
      problems: 'Não avaliado',
    },
    taxa: {
      short_name: 'Taxa (espécies)',
      description: 'Os táxons (espécies ou grupos de espécies) são registrados pelos enumeradores no local de desembarque.',
      methods: 'Calculamos a captura nacional para os onze táxons mais comuns por peso.',
      problems: 'A categorização dos táxons mudou ao longo do tempo. Antes de abril de 2019, os táxons eram registrados no nível de espécie. Posteriormente, os táxons foram agrupados em cerca de 60 categorias que correspondem aproximadamente à família ou gênero das espécies. Não se sabe como essa mudança pode afetar as estimativas.',
    },
    prop_landings_woman: {
      short_name: 'Viagens com mulheres',
    },
    pds_tracks_trips: {
      short_name: 'Número de viagens',
    },
    pds_tracks_cpe: {
      short_name: 'Captura por unidade de esforço',
    },
    pds_tracks_rpe: {
      short_name: 'Receita por unidade de esforço',
    },
    nut_supply: {
      short_name: 'Abastecimento de nutrientes',
    },
    nut_rdi: {
      short_name: 'Número de pessoas que atendem à recomendação diária de ingestão',
    },
  },
  indicators: {
    processing: 'Processamento e validação de dados:',
    limitations: 'Problemas e limitações conhecidos:',
    quality: 'Qualidade dos dados:',
    not_assessed: 'Não avaliado',
    quality_low: 'Baixa',
    quality_medium: 'Média',
    quality_high: 'Alta',
  },
  data_test: {
    pretitle: 'Desenvolvimento',
    title: 'Teste de carregamento de dados',
    alert_title: 'Exemplos de carregamento de dados',
    alert_description_lead: 'Esta página demonstra o carregamento de dados de {count} arquivos JSON usando o',
    alert_description_middle: 'e',
    alert_description_tail: 'hooks. Todos os dados possuem segurança de tipo com interfaces TypeScript.',
    loading: 'Carregando arquivos de dados...',
    error_title: 'Erro ao carregar dados',
    error_file: '{file}: {message}',
    error_multiple: 'Arquivos múltiplos: {message}',
    retry: 'Tentar novamente',
    cards: {
      aggregated_title: 'aggregated.json',
      summary_title: 'summary_data.json',
      pars_title: 'pars.json',
      taxa_title: 'taxa_names.json ({count} taxa)',
    },
    aggregated: {
      daily_records: 'Registros diários',
      weekly_records: 'Registros semanais',
      monthly_records: 'Registros mensais',
      yearly_records: 'Registros anuais',
      latest_month: 'Último mês:',
    },
    summary: {
      survey_areas: 'Áreas de pesquisa',
      fish_groups: 'Grupos de peixes',
      habitat_series: 'Séries de habitats',
      portfolio_items: 'Itens de portfólio',
      fish_groups_label: 'Grupos de peixes:',
    },
    pars: {
      variables: 'Variáveis',
      taxa_display: 'Taxas a exibir',
      nutrients: 'Nutrientes',
      nav_items: 'Itens de navegação',
      home_title: 'Título da página inicial:',
    },
    taxa: {
      code: 'Código',
      name: 'Nome',
      more: '... e mais {count} taxas',
    },
  },
  settings: {
    title: 'Configurações',
    language_label: 'Idioma',
    close: 'Fechar',
  },
}

const DICTS: Record<Lang, Dict> = { en, tet, pt }

// Export for verification utility
export { DICTS }

export function I18nProvider({ children }: { children: ReactNode }) {
  const [lang, setLangState] = useState<Lang>(() => {
    if (typeof window === 'undefined') return 'en'
    const stored = window.localStorage.getItem('appLang') as Lang | null
    return stored ?? 'en'
  })

  const setLang = (l: Lang) => {
    setLangState(l)
    if (typeof window !== 'undefined') window.localStorage.setItem('appLang', l)
  }

  useEffect(() => {
    if (typeof document !== 'undefined') document.documentElement.setAttribute('lang', lang)
  }, [lang])

  const t = useMemo(() => {
    const dict = DICTS[lang]
    return (key: string, params?: I18nParams) => {
      const { defaultValue, ...interpolations } = params ?? {}
      const raw = (get(dict, key) as string)
        ?? (get(DICTS.en, key) as string)
        ?? defaultValue
        ?? key
      return typeof raw === 'string' ? interpolate(raw, interpolations) : String(raw)
    }
  }, [lang])

  const value = useMemo<I18nContextValue>(() => ({ lang, setLang, t }), [lang, t])

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}
